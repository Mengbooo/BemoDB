# 类型声明

我们提到了这么一条：“TypeScript 能够非常好地兼容 JavaScript 生态”，当时我们并没有去解释这句话，而是将其视为理所当然的。

但深入思考一下，你可能会产生一些疑问：JavaScript 生态指的是什么？TypeScript 的兼容又体现在哪里？

关于 JavaScript 的生态，编程语言的生态指的可不是生态圈，而是整个语言社区中，无数开发者提供的那些覆盖各种场景与用途的“包”，在 JavaScript 社区这指的当然就是 npm 包！作为世界上最大的编程语言包社区，npm 社区现在拥有超过 300w 个npm包。而 TypeScript 之所以如今能取得如此的成功，被广大 JavaScript 开发者接纳，一个不可忽视的原因就是它**对 npm 包的兼容能力**。

简单地说，一个 npm 包可能是在数年前编写发布的，作者已经不再维护，但它仍然拥有数千万的周下载量。

此时，如果作者希望提供 TypeScript 支持，让你在使用这个包的时候能获得类型提示，他并不需要分布一个新的版本，然后你再升级这个版本，只需要一点由 TypeScript 提供的黑科技——`类型声明`就行。

此前我们学习的类型知识，都是和 TS 代码绑定，需要我们提前提供好的。

也即是说，必须标注这个变量为数组类型后，才能享受到后续对数组方法的提示，以及对数组类型的保障。

那么 TypeScript 又是怎么让我们不需要为 npm 包编写类型就能享受到类型提示的？类型声明此时闪亮登场，你可以理解为它是存在于全局的 TS 类型，当你访问数组变量，它会读取 Array 这个顶级对象在全局声明的类型，然后为你提供对应的类型提示，对于 npm 包也是如此。

说了这么多概念，是时候来实战一下了。我们从一个日常使用频率非常高的库 Lodash 开始说起，首先安装它：

``` bash 
npm i lodash
```

然后我们在ts文件中导入它，此时你会发现 VSCode 会给出这么个提示：

``` txt
无法找到模块“lodash”的声明文件。"/Users/linbudu/Desktop/0penSource/vite-project/node modules/.pnpm/lodash@4.17.21/node modules/lodash/lodasl隐式拥有"any"类型。
尝试使用npmi--save-dev @types/lodash`(如果存在)，或者添加一个包含declare module 'lodash';的新声明(.d.ts)文件 ts(7016)
```



























































































































































































































